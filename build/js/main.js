$(document).ready(function(){$("select.styled").customSelect(),$(".owl-carousel").owlCarousel({margin:0,loop:!0,autoWidth:!0,items:4})}),function(t){!function(t){var i=function(i,e){function s(i,e){this.defaults={slideDuration:"3000",speed:500,arrowRight:".arrow-right",arrowLeft:".arrow-left",infinite:!0,index:0,slidesVisible:1,slidesToScroll:1,arrows:!0,swipeAble:!0,pagination:!0,autoplay:!0},this.settings=t.extend({},this,this.defaults,e),this.initials={currSlide:this.settings.index,$currSlide:null,totalSlides:!1,csstransitions:!1},t.extend(this,this.initials),this.$el=t(i),this.changeSlide=t.proxy(this.changeSlide,this),this.init(),this.instanceUid=n++,console.log(n)}var n=0;return s}();i.prototype.init=function(){this.csstransitionsTest(),this.build(),this.events(),this.activate(),this.startTimer()},i.prototype.changeSlide=function(t){if(!this.throttle){this.throttle=!0,this.clearTimer();var i=this._direction(t);if(this._next(t,i)){var e=this.$el.find(".slide").eq(this.currSlide).addClass(i+" active");console.log(this.$el),this._cssAnimation(e,i)}}},i.prototype._next=function(i,e){var s=void 0!==i?t(i.currentTarget).data("index"):void 0;switch(!0){case void 0!==s:if(this.currSlide==s)return this.startTimer(),!1;this.currSlide=s;break;case"right"==e&&this.currSlide<this.totalSlides-1:this.currSlide+=this.settings.slidesToScroll;break;case"right"==e:if(0==this.settings.infinite)return this.startTimer(),!1;this.currSlide=0;break;case"left"==e&&0===this.currSlide:if(0==this.settings.infinite)return this.startTimer(),!1;this.currSlide=this.totalSlides-1;break;case"left"==e:this.currSlide-=this.settings.slidesToScroll}return!0},i.prototype._direction=function(t){return void 0!==t?void 0===t.data?"right":t.data.direction:"right"},i.prototype._cssAnimation=function(t,i){setTimeout(function(){this.$el.addClass("transition"),this.addCSSDuration(),this.$currSlide.addClass("shift-"+i)}.bind(this),100),setTimeout(function(){this.$el.removeClass("transition"),this.removeCSSDuration(),this.$currSlide.removeClass("active shift-left shift-right"),this.$currSlide=t.removeClass(i),this._updateIndicators(),this.startTimer()}.bind(this),100+this.settings.speed)},i.prototype._updateIndicators=function(){this.$el.find(".indicators li").removeClass("active").eq(this.currSlide).addClass("active")},i.prototype.csstransitionsTest=function(){var t=document.createElement("modernizr"),i=["transition","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in i){var s=i[e],n=void 0!==t.style[s]&&s;if(n){this.csstransitions=n;break}}},i.prototype.addCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=t.settings.speed+"ms"})},i.prototype.removeCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=""})},i.prototype.build=function(){0==this.settings.arrows&&(this.$el.find(this.settings.arrowLeft).addClass("display-none"),this.$el.find(this.settings.arrowRight).addClass("display-none"));var t=this.$el.append('<ul class="indicators" >').find(".indicators");this.totalSlides=this.$el.find(".slide").length;for(var i=0;i<this.totalSlides;i++)t.append("<li data-index="+i+">");0==this.settings.pagination&&this.$el.find(".indicators").addClass("display-none")},i.prototype.activate=function(){this.$currSlide=this.$el.find(".slide").eq(this.settings.index).addClass("active"),this.$el.find(".indicators li").eq(this.settings.index).addClass("active")},i.prototype.events=function(){this.$el.on("click",this.settings.arrowRight,{direction:"right"},this.changeSlide).on("click",this.settings.arrowLeft,{direction:"left"},this.changeSlide).on("click",".indicators li",this.changeSlide).on("swipeleft",".slide",{direction:"right"},this.changeSlide).on("swiperight",".slide",{direction:"left"},this.changeSlide)},i.prototype.clearTimer=function(){1==this.settings.autoplay&&this.timer&&clearInterval(this.timer)},i.prototype.initTimer=function(){1==this.settings.autoplay&&(this.timer=setInterval(this.changeSlide,this.settings.slideDuration))},i.prototype.startTimer=function(){1==this.settings.autoplay&&this.initTimer(),this.throttle=!1},t.fn.Slider=function(t){return this.each(function(e,s){s.Slider=new i(s,t)})}}(jQuery)}();var args={arrowRight:".arrow-right",arrowLeft:".arrow-left",speed:1e3,slideDuration:4e3};$(".carousel").Slider(args),args={speed:1e3,slideDuration:4e3,arrows:!1,autoplay:!1},$(".carousel-listing").Slider(args),function(t){"use strict";t.fn.extend({customSelect:function(i){if(void 0===document.body.style.maxHeight)return this;var e={customClass:"customSelect",mapClass:!0,mapStyle:!0},i=t.extend(e,i),s=i.customClass,n=function(i,e){var s=i.find(":selected"),n=e.children(":first"),o=s.html()||"&nbsp;";n.html(o),s.attr("disabled")?e.addClass(r("DisabledOption")):e.removeClass(r("DisabledOption")),setTimeout(function(){e.removeClass(r("Open")),t(document).off("mouseup.customSelect")},60)},r=function(t){return s+t};return this.each(function(){var e=t(this),o=t("<span />").addClass(r("Inner")),a=t("<span />");e.after(a.append(o)),a.addClass(s),i.mapClass&&a.addClass(e.attr("class")),i.mapStyle&&a.attr("style",e.attr("style")),e.addClass("hasCustomSelect").on("render.customSelect",function(){n(e,a),e.css("width","");var t=parseInt(e.outerWidth(),10)-(parseInt(a.outerWidth(),10)-parseInt(a.width(),10));a.css({display:"inline-block"});var i=a.outerHeight();e.attr("disabled")?a.addClass(r("Disabled")):a.removeClass(r("Disabled")),o.css({width:t,display:"inline-block"}),e.css({"-webkit-appearance":"menulist-button",width:a.outerWidth(),position:"absolute",opacity:0,height:i,fontSize:a.css("font-size")})}).on("change.customSelect",function(){a.addClass(r("Changed")),n(e,a)}).on("keyup.customSelect",function(t){a.hasClass(r("Open"))?13!=t.which&&27!=t.which||n(e,a):(e.trigger("blur.customSelect"),e.trigger("focus.customSelect"))}).on("mousedown.customSelect",function(){a.removeClass(r("Changed"))}).on("mouseup.customSelect",function(i){a.hasClass(r("Open"))||(t("."+r("Open")).not(a).length>0&&"undefined"!=typeof InstallTrigger?e.trigger("focus.customSelect"):(a.addClass(r("Open")),i.stopPropagation(),t(document).one("mouseup.customSelect",function(i){i.target!=e.get(0)&&t.inArray(i.target,e.find("*").get())<0?e.trigger("blur.customSelect"):n(e,a)})))}).on("focus.customSelect",function(){a.removeClass(r("Changed")).addClass(r("Focus"))}).on("blur.customSelect",function(){a.removeClass(r("Focus")+" "+r("Open"))}).on("mouseenter.customSelect",function(){a.addClass(r("Hover"))}).on("mouseleave.customSelect",function(){a.removeClass(r("Hover"))}).trigger("render.customSelect")})}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjdXN0b21TZWxlY3QiLCJvd2xDYXJvdXNlbCIsIm1hcmdpbiIsImxvb3AiLCJhdXRvV2lkdGgiLCJpdGVtcyIsImZhY3RvcnkiLCJTbGlkZXIiLCJlbGVtZW50Iiwic2V0dGluZ3MiLCJfU2xpZGVyIiwidGhpcyIsImRlZmF1bHRzIiwic2xpZGVEdXJhdGlvbiIsInNwZWVkIiwiYXJyb3dSaWdodCIsImFycm93TGVmdCIsImluZmluaXRlIiwiaW5kZXgiLCJzbGlkZXNWaXNpYmxlIiwic2xpZGVzVG9TY3JvbGwiLCJhcnJvd3MiLCJzd2lwZUFibGUiLCJwYWdpbmF0aW9uIiwiYXV0b3BsYXkiLCJleHRlbmQiLCJpbml0aWFscyIsImN1cnJTbGlkZSIsIiRjdXJyU2xpZGUiLCJ0b3RhbFNsaWRlcyIsImNzc3RyYW5zaXRpb25zIiwiJGVsIiwiY2hhbmdlU2xpZGUiLCJwcm94eSIsImluaXQiLCJpbnN0YW5jZVVpZCIsImNvbnNvbGUiLCJsb2ciLCJwcm90b3R5cGUiLCJjc3N0cmFuc2l0aW9uc1Rlc3QiLCJidWlsZCIsImV2ZW50cyIsImFjdGl2YXRlIiwic3RhcnRUaW1lciIsImUiLCJ0aHJvdHRsZSIsImNsZWFyVGltZXIiLCJkaXJlY3Rpb24iLCJfZGlyZWN0aW9uIiwiX25leHQiLCIkbmV4dFNsaWRlIiwiZmluZCIsImVxIiwiYWRkQ2xhc3MiLCJfY3NzQW5pbWF0aW9uIiwiY3VycmVudFRhcmdldCIsImRhdGEiLCJ1bmRlZmluZWQiLCJzZXRUaW1lb3V0IiwiYWRkQ1NTRHVyYXRpb24iLCJiaW5kIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVDU1NEdXJhdGlvbiIsIl91cGRhdGVJbmRpY2F0b3JzIiwiZWxlbSIsImNyZWF0ZUVsZW1lbnQiLCJwcm9wcyIsImkiLCJwcm9wIiwicmVzdWx0Iiwic3R5bGUiLCJfIiwiZWFjaCIsIiRpbmRpY2F0b3JzIiwiYXBwZW5kIiwibGVuZ3RoIiwib24iLCJ0aW1lciIsImNsZWFySW50ZXJ2YWwiLCJpbml0VGltZXIiLCJzZXRJbnRlcnZhbCIsImZuIiwib3B0aW9ucyIsImVsIiwialF1ZXJ5IiwiYXJncyIsImJvZHkiLCJtYXhIZWlnaHQiLCJjdXN0b21DbGFzcyIsIm1hcENsYXNzIiwibWFwU3R5bGUiLCJwcmVmaXgiLCJjaGFuZ2VkIiwiJHNlbGVjdCIsImN1c3RvbVNlbGVjdFNwYW4iLCJjdXJyZW50U2VsZWN0ZWQiLCJjdXN0b21TZWxlY3RTcGFuSW5uZXIiLCJjaGlsZHJlbiIsImh0bWwiLCJhdHRyIiwiZ2V0Q2xhc3MiLCJvZmYiLCJzdWZmaXgiLCJjdXN0b21TZWxlY3RJbm5lclNwYW4iLCJhZnRlciIsImNzcyIsInNlbGVjdEJveFdpZHRoIiwicGFyc2VJbnQiLCJvdXRlcldpZHRoIiwid2lkdGgiLCJkaXNwbGF5Iiwic2VsZWN0Qm94SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCItd2Via2l0LWFwcGVhcmFuY2UiLCJwb3NpdGlvbiIsIm9wYWNpdHkiLCJoZWlnaHQiLCJmb250U2l6ZSIsImhhc0NsYXNzIiwid2hpY2giLCJ0cmlnZ2VyIiwibm90IiwiSW5zdGFsbFRyaWdnZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJvbmUiLCJ0YXJnZXQiLCJnZXQiLCJpbkFycmF5Il0sIm1hcHBpbmdzIjoiQUFlQUEsRUFBRUMsVUFBVUMsTUFBTSxXQUNkRixFQUFFLGlCQUFpQkcsZUFDbkJILEVBQUUsaUJBQWlCSSxhQUNmQyxPQUFPLEVBQ1BDLE1BQUssRUFDTEMsV0FBVSxFQUNWQyxNQUFNLE1BR2IsU0FBV0MsSUFFVCxTQUFVVCxHQUVULEdBQUlVLEdBQVMsU0FBV0MsRUFBU0MsR0FJN0IsUUFBU0MsR0FBUUYsRUFBU0MsR0FDdEJFLEtBQUtDLFVBQ0RDLGNBQWUsT0FDZkMsTUFBTyxJQUNQQyxXQUFZLGVBQ1pDLFVBQVcsY0FFWEMsVUFBVSxFQUNWQyxNQUFPLEVBQ1BDLGNBQWUsRUFDZkMsZUFBZ0IsRUFDaEJDLFFBQVEsRUFDUkMsV0FBVyxF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U0FDbkN4RCxFQUFFK0Usa0JBQ0Y5SCxFQUFFQyxVQUFVOEgsSUFBSSx1QkFBd0IsU0FBVWhGLEdBQzFDQSxFQUFFaUYsUUFBVWhDLEVBQVFpQyxJQUFJLElBQU1qSSxFQUFFa0ksUUFBUW5GLEVBQUVpRixPQUFPaEMsRUFBUTFDLEtBQUssS0FBSzJFLE9BQVMsRUFDNUVqQyxFQUFRMkIsUUFBUSxxQkFFaEI1QixFQUFRQyxFQUFRQyxTQU1uQ2xCLEdBQUcscUJBQXNCLFdBQ3RCa0IsRUFBaUJqQyxZQUFZdUMsRUFBUyxZQUFZL0MsU0FBUytDLEVBQVMsWUFFdkV4QixHQUFHLG9CQUFxQixXQUNyQmtCLEVBQWlCakMsWUFBWXVDLEVBQVMsU0FBUyxJQUFJQSxFQUFTLFdBRS9EeEIsR0FBRywwQkFBMkIsV0FDM0JrQixFQUFpQnpDLFNBQVMrQyxFQUFTLFlBRXRDeEIsR0FBRywwQkFBMkIsV0FDM0JrQixFQUFpQmpDLFlBQVl1QyxFQUFTLFlBRXpDb0IsUUFBUSw2QkFJMUJwQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVXNlciBvbiAwMzEgMzEuMDMuMTcuXHJcbiAqL1xyXG4vKlxyXG4gKiBUaGlyZCBwYXJ0eVxyXG4gKi9cclxuXHJcblxyXG5cclxuLypcclxuICogQ3VzdG9tXHJcbiAqL1xyXG4vKipcclxuICogQ3JlYXRlZCBieSBVc2VyIG9uIDAzMSAzMS4wMy4xNy5cclxuICovXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICAkKCdzZWxlY3Quc3R5bGVkJykuY3VzdG9tU2VsZWN0KCk7XHJcbiAgICAkKCcub3dsLWNhcm91c2VsJykub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIG1hcmdpbjowLFxyXG4gICAgICAgIGxvb3A6dHJ1ZSxcclxuICAgICAgICBhdXRvV2lkdGg6dHJ1ZSxcclxuICAgICAgICBpdGVtczo0XHJcbiAgICB9KTtcclxufSk7XHJcbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcclxuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XHJcbn0pKGZ1bmN0aW9uICgkKSB7XHJcblxyXG4gICAgdmFyIFNsaWRlciA9IChmdW5jdGlvbiAoZWxlbWVudCwgc2V0dGluZ3MpIHtcclxuXHJcbiAgICAgICAgdmFyIGluc3RhbmNlVWlkID0gMDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX1NsaWRlcihlbGVtZW50LCBzZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVEdXJhdGlvbjogJzMwMDAnLCAvL2F1dG9wbGF5c3BlZWRcclxuICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBhcnJvd1JpZ2h0OiAnLmFycm93LXJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGFycm93TGVmdDogJy5hcnJvdy1sZWZ0JyxcclxuICAgICAgICAgICAgICAgIC8vbXkgb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbmRleDogMCxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1Zpc2libGU6IDEsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgICAgICAgIGFycm93czogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHN3aXBlQWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdXRvcGxheTogdHJ1ZVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcywgdGhpcy5kZWZhdWx0cywgc2V0dGluZ3MpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0aWFscyA9IHtcclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZTogdGhpcy5zZXR0aW5ncy5pbmRleCxcclxuICAgICAgICAgICAgICAgICRjdXJyU2xpZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0b3RhbFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjc3N0cmFuc2l0aW9uczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHRoaXMsIHRoaXMuaW5pdGlhbHMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kZWwgPSAkKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTbGlkZSA9ICQucHJveHkodGhpcy5jaGFuZ2VTbGlkZSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VVaWQgPSBpbnN0YW5jZVVpZCsrO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpbnN0YW5jZVVpZClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBfU2xpZGVyO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgU2xpZGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY3NzdHJhbnNpdGlvbnNUZXN0KCk7XHJcbiAgICAgICAgdGhpcy5idWlsZCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzKCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgU2xpZGVyLnByb3RvdHlwZS5jaGFuZ2VTbGlkZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGhyb3R0bGUpIHJldHVybjtcclxuICAgICAgICB0aGlzLnRocm90dGxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcclxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5fZGlyZWN0aW9uKGUpO1xyXG4gICAgICAgIHZhciBhbmltYXRlID0gdGhpcy5fbmV4dChlLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgIGlmICghYW5pbWF0ZSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciAkbmV4dFNsaWRlID0gdGhpcy4kZWwuZmluZCgnLnNsaWRlJykuZXEodGhpcy5jdXJyU2xpZGUpLmFkZENsYXNzKGRpcmVjdGlvbiArICcgYWN0aXZlJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy4kZWwpO1xyXG4gICAgICAgIHRoaXMuX2Nzc0FuaW1hdGlvbigkbmV4dFNsaWRlLCBkaXJlY3Rpb24pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgU2xpZGVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uIChlLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICB2YXIgaW5kZXggPSAodHlwZW9mIGUgIT09ICd1bmRlZmluZWQnID8gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2luZGV4JykgOiB1bmRlZmluZWQpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgICAgICAgY2FzZSggdHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJyk6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyU2xpZGUgPT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJTbGlkZSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UoZGlyZWN0aW9uID09ICdyaWdodCcgJiYgdGhpcy5jdXJyU2xpZGUgPCAodGhpcy50b3RhbFNsaWRlcyAtIDEpKTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VyclNsaWRlICs9IHRoaXMuc2V0dGluZ3Muc2xpZGVzVG9TY3JvbGw7ICAgLy9kZmZcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlKGRpcmVjdGlvbiA9PSAncmlnaHQnKTpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluZmluaXRlID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyU2xpZGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UoZGlyZWN0aW9uID09ICdsZWZ0JyAmJiB0aGlzLmN1cnJTbGlkZSA9PT0gMCk6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbmZpbml0ZSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY3VyclNsaWRlID0gKHRoaXMudG90YWxTbGlkZXMgLSAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlKGRpcmVjdGlvbiA9PSAnbGVmdCcpOlxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY3VyclNsaWRlIC09IHRoaXMuc2V0dGluZ3Muc2xpZGVzVG9TY3JvbGw7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUuX2RpcmVjdGlvbiA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIGRpcmVjdGlvbjtcclxuICAgICAgICBpZiAodHlwZW9mIGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh0eXBlb2YgZS5kYXRhID09PSAndW5kZWZpbmVkJyA/ICdyaWdodCcgOiBlLmRhdGEuZGlyZWN0aW9uKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICBTbGlkZXIucHJvdG90eXBlLl9jc3NBbmltYXRpb24gPSBmdW5jdGlvbiAoJG5leHRTbGlkZSwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCd0cmFuc2l0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ1NTRHVyYXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy4kY3VyclNsaWRlLmFkZENsYXNzKCdzaGlmdC0nICsgZGlyZWN0aW9uKTtcclxuICAgICAgICB9LmJpbmQodGhpcyksIDEwMCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygndHJhbnNpdGlvbicpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNTU0R1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuJGN1cnJTbGlkZS5yZW1vdmVDbGFzcygnYWN0aXZlIHNoaWZ0LWxlZnQgc2hpZnQtcmlnaHQnKTtcclxuICAgICAgICAgICAgdGhpcy4kY3VyclNsaWRlID0gJG5leHRTbGlkZS5yZW1vdmVDbGFzcyhkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJbmRpY2F0b3JzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSwgMTAwICsgdGhpcy5zZXR0aW5ncy5zcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUuX3VwZGF0ZUluZGljYXRvcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmluZGljYXRvcnMgbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuZXEodGhpcy5jdXJyU2xpZGUpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIH07XHJcblxyXG4gICAgU2xpZGVyLnByb3RvdHlwZS5jc3N0cmFuc2l0aW9uc1Rlc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtb2Rlcm5penInKTtcclxuICAgICAgICB2YXIgcHJvcHMgPSBbXCJ0cmFuc2l0aW9uXCIsIFwiV2Via2l0VHJhbnNpdGlvblwiLCBcIk1velRyYW5zaXRpb25cIiwgXCJPVHJhbnNpdGlvblwiLCBcIm1zVHJhbnNpdGlvblwiXTtcclxuICAgICAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBlbGVtLnN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQgPyBwcm9wIDogZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3NzdHJhbnNpdGlvbnMgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUuYWRkQ1NTRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF8gPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5zbGlkZScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlW18uY3NzdHJhbnNpdGlvbnMgKyAnRHVyYXRpb24nXSA9IF8uc2V0dGluZ3Muc3BlZWQgKyAnbXMnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUucmVtb3ZlQ1NTRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF8gPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5zbGlkZScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlW18uY3NzdHJhbnNpdGlvbnMgKyAnRHVyYXRpb24nXSA9ICcnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYXJyb3dzID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQodGhpcy5zZXR0aW5ncy5hcnJvd0xlZnQpLmFkZENsYXNzKCdkaXNwbGF5LW5vbmUnKVxyXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKHRoaXMuc2V0dGluZ3MuYXJyb3dSaWdodCkuYWRkQ2xhc3MoJ2Rpc3BsYXktbm9uZScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgJGluZGljYXRvcnMgPSB0aGlzLiRlbC5hcHBlbmQoJzx1bCBjbGFzcz1cImluZGljYXRvcnNcIiA+JykuZmluZCgnLmluZGljYXRvcnMnKTtcclxuICAgICAgICB0aGlzLnRvdGFsU2xpZGVzID0gdGhpcy4kZWwuZmluZCgnLnNsaWRlJykubGVuZ3RoO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50b3RhbFNsaWRlczsgaSsrKSAkaW5kaWNhdG9ycy5hcHBlbmQoJzxsaSBkYXRhLWluZGV4PScgKyBpICsgJz4nKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5wYWdpbmF0aW9uID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5pbmRpY2F0b3JzJykuYWRkQ2xhc3MoJ2Rpc3BsYXktbm9uZScpXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBTbGlkZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuJGN1cnJTbGlkZSA9IHRoaXMuJGVsLmZpbmQoJy5zbGlkZScpLmVxKHRoaXMuc2V0dGluZ3MuaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB0aGlzLiRlbC5maW5kKCcuaW5kaWNhdG9ycyBsaScpLmVxKHRoaXMuc2V0dGluZ3MuaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUuZXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuJGVsXHJcbiAgICAgICAgICAgIC5vbignY2xpY2snLCB0aGlzLnNldHRpbmdzLmFycm93UmlnaHQsIHtkaXJlY3Rpb246ICdyaWdodCd9LCB0aGlzLmNoYW5nZVNsaWRlKVxyXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgdGhpcy5zZXR0aW5ncy5hcnJvd0xlZnQsIHtkaXJlY3Rpb246ICdsZWZ0J30sIHRoaXMuY2hhbmdlU2xpZGUpXHJcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAnLmluZGljYXRvcnMgbGknLCB0aGlzLmNoYW5nZVNsaWRlKVxyXG4gICAgICAgICAgICAub24oJ3N3aXBlbGVmdCcsICcuc2xpZGUnLCB7ZGlyZWN0aW9uOiAncmlnaHQnfSwgdGhpcy5jaGFuZ2VTbGlkZSlcclxuICAgICAgICAgICAgLm9uKCdzd2lwZXJpZ2h0JywgJy5zbGlkZScsIHtkaXJlY3Rpb246ICdsZWZ0J30sIHRoaXMuY2hhbmdlU2xpZGUpO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUuY2xlYXJUaW1lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvcGxheSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyKSBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIFNsaWRlci5wcm90b3R5cGUuaW5pdFRpbWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9wbGF5ID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuY2hhbmdlU2xpZGUsIHRoaXMuc2V0dGluZ3Muc2xpZGVEdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgU2xpZGVyLnByb3RvdHlwZS5zdGFydFRpbWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9wbGF5ID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0VGltZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3R0bGUgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG5cclxuICAgICQuZm4uU2xpZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsKSB7XHJcblxyXG4gICAgICAgICAgICBlbC5TbGlkZXIgPSBuZXcgU2xpZGVyKGVsLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG59KTtcclxuXHJcbi8vIEN1c3RvbSBvcHRpb25zIGZvciB0aGUgY2Fyb3VzZWxcclxudmFyIGFyZ3MgPSB7XHJcbiAgICBhcnJvd1JpZ2h0OiAnLmFycm93LXJpZ2h0JyxcclxuICAgIGFycm93TGVmdDogJy5hcnJvdy1sZWZ0JyxcclxuICAgIHNwZWVkOiAxMDAwLFxyXG4gICAgc2xpZGVEdXJhdGlvbjogNDAwMFxyXG59O1xyXG5cclxuJCgnLmNhcm91c2VsJykuU2xpZGVyKGFyZ3MpO1xyXG5hcmdzID0ge1xyXG4gICAgc3BlZWQ6IDEwMDAsXHJcbiAgICBzbGlkZUR1cmF0aW9uOiA0MDAwLFxyXG4gICAgYXJyb3dzOiBmYWxzZSxcclxuICAgIGF1dG9wbGF5OmZhbHNlXHJcbn07XHJcbiQoJy5jYXJvdXNlbC1saXN0aW5nJykuU2xpZGVyKGFyZ3MpO1xyXG4vKipcclxuICogQ3JlYXRlZCBieSBEaW1hIG9uIDAyLjA1LjIwMTcuXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbiAoJCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgICQuZm4uZXh0ZW5kKHtcclxuICAgICAgICBjdXN0b21TZWxlY3Q6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgPD0gSUU2XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXhIZWlnaHQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ2xhc3M6ICdjdXN0b21TZWxlY3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcENsYXNzOiAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcFN0eWxlOiAgICB0cnVlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKSxcclxuICAgICAgICAgICAgICAgIHByZWZpeCA9IG9wdGlvbnMuY3VzdG9tQ2xhc3MsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gZnVuY3Rpb24gKCRzZWxlY3QsY3VzdG9tU2VsZWN0U3Bhbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U2VsZWN0ZWQgPSAkc2VsZWN0LmZpbmQoJzpzZWxlY3RlZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RTcGFuSW5uZXIgPSBjdXN0b21TZWxlY3RTcGFuLmNoaWxkcmVuKCc6Zmlyc3QnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGN1cnJlbnRTZWxlY3RlZC5odG1sKCkgfHwgJyZuYnNwOyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdFNwYW5Jbm5lci5odG1sKGh0bWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNlbGVjdGVkLmF0dHIoJ2Rpc2FibGVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5hZGRDbGFzcyhnZXRDbGFzcygnRGlzYWJsZWRPcHRpb24nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5yZW1vdmVDbGFzcyhnZXRDbGFzcygnRGlzYWJsZWRPcHRpb24nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5yZW1vdmVDbGFzcyhnZXRDbGFzcygnT3BlbicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdtb3VzZXVwLmN1c3RvbVNlbGVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDYwKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRDbGFzcyA9IGZ1bmN0aW9uKHN1ZmZpeCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHN1ZmZpeDtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkc2VsZWN0ID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RJbm5lclNwYW4gPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKGdldENsYXNzKCdJbm5lcicpKSxcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RTcGFuID0gJCgnPHNwYW4gLz4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0LmFmdGVyKGN1c3RvbVNlbGVjdFNwYW4uYXBwZW5kKGN1c3RvbVNlbGVjdElubmVyU3BhbikpO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdFNwYW4uYWRkQ2xhc3MocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5tYXBDbGFzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdFNwYW4uYWRkQ2xhc3MoJHNlbGVjdC5hdHRyKCdjbGFzcycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1hcFN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5hdHRyKCdzdHlsZScsICRzZWxlY3QuYXR0cignc3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaGFzQ3VzdG9tU2VsZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAub24oJ3JlbmRlci5jdXN0b21TZWxlY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQoJHNlbGVjdCxjdXN0b21TZWxlY3RTcGFuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdC5jc3MoJ3dpZHRoJywnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RCb3hXaWR0aCA9IHBhcnNlSW50KCRzZWxlY3Qub3V0ZXJXaWR0aCgpLCAxMCkgLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhcnNlSW50KGN1c3RvbVNlbGVjdFNwYW4ub3V0ZXJXaWR0aCgpLCAxMCkgLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoY3VzdG9tU2VsZWN0U3Bhbi53aWR0aCgpLCAxMCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRvIGlubGluZS1ibG9jayBiZWZvcmUgY2FsY3VsYXRpbmcgb3V0ZXJIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0Qm94SGVpZ2h0ID0gY3VzdG9tU2VsZWN0U3Bhbi5vdXRlckhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzZWxlY3QuYXR0cignZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5hZGRDbGFzcyhnZXRDbGFzcygnRGlzYWJsZWQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RTcGFuLnJlbW92ZUNsYXNzKGdldENsYXNzKCdEaXNhYmxlZCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0SW5uZXJTcGFuLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogICBzZWxlY3RCb3hXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYXBwZWFyYW5jZSc6ICdtZW51bGlzdC1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdFNwYW4ub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogICAgICAgICAgICAgICBzZWxlY3RCb3hIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5jc3MoJ2ZvbnQtc2l6ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdjaGFuZ2UuY3VzdG9tU2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RTcGFuLmFkZENsYXNzKGdldENsYXNzKCdDaGFuZ2VkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkKCRzZWxlY3QsY3VzdG9tU2VsZWN0U3Bhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAub24oJ2tleXVwLmN1c3RvbVNlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFjdXN0b21TZWxlY3RTcGFuLmhhc0NsYXNzKGdldENsYXNzKCdPcGVuJykpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3QudHJpZ2dlcignYmx1ci5jdXN0b21TZWxlY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3QudHJpZ2dlcignZm9jdXMuY3VzdG9tU2VsZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZS53aGljaD09MTN8fGUud2hpY2g9PTI3KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkKCRzZWxlY3QsY3VzdG9tU2VsZWN0U3Bhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbignbW91c2Vkb3duLmN1c3RvbVNlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5yZW1vdmVDbGFzcyhnZXRDbGFzcygnQ2hhbmdlZCcpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbignbW91c2V1cC5jdXN0b21TZWxlY3QnLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFjdXN0b21TZWxlY3RTcGFuLmhhc0NsYXNzKGdldENsYXNzKCdPcGVuJykpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIEZGIGFuZCB0aGVyZSBhcmUgb3RoZXIgc2VsZWN0cyBvcGVuLCBqdXN0IGFwcGx5IGZvY3VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkKCcuJytnZXRDbGFzcygnT3BlbicpKS5ub3QoY3VzdG9tU2VsZWN0U3BhbikubGVuZ3RoPjAgJiYgdHlwZW9mIEluc3RhbGxUcmlnZ2VyICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdC50cmlnZ2VyKCdmb2N1cy5jdXN0b21TZWxlY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdFNwYW4uYWRkQ2xhc3MoZ2V0Q2xhc3MoJ09wZW4nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbmUoJ21vdXNldXAuY3VzdG9tU2VsZWN0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGUudGFyZ2V0ICE9ICRzZWxlY3QuZ2V0KDApICYmICQuaW5BcnJheShlLnRhcmdldCwkc2VsZWN0LmZpbmQoJyonKS5nZXQoKSkgPCAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0LnRyaWdnZXIoJ2JsdXIuY3VzdG9tU2VsZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZCgkc2VsZWN0LGN1c3RvbVNlbGVjdFNwYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbignZm9jdXMuY3VzdG9tU2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RTcGFuLnJlbW92ZUNsYXNzKGdldENsYXNzKCdDaGFuZ2VkJykpLmFkZENsYXNzKGdldENsYXNzKCdGb2N1cycpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbignYmx1ci5jdXN0b21TZWxlY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdFNwYW4ucmVtb3ZlQ2xhc3MoZ2V0Q2xhc3MoJ0ZvY3VzJykrJyAnK2dldENsYXNzKCdPcGVuJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyLmN1c3RvbVNlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0U3Bhbi5hZGRDbGFzcyhnZXRDbGFzcygnSG92ZXInKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlbGVhdmUuY3VzdG9tU2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RTcGFuLnJlbW92ZUNsYXNzKGdldENsYXNzKCdIb3ZlcicpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKCdyZW5kZXIuY3VzdG9tU2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KShqUXVlcnkpOyJdfQ==
